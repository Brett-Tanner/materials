.flex.flex-col.justify-center.items-center.text-center
  %h1.flex.justify-center.items-center.gap-3
    = @course.title
    = render 'shared/visibility_badges', released: @course.released
  %h3= @course.description
  .flex.gap-3
    = render 'shared/visibility_toggles', resource: @course
    = link_to 'Edit',
              edit_course_path(@course),
              class: 'btn btn-info'

  %h2 Lessons
  %details.border.border-black.p-2.cursor-pointer#add-lesson
    %summary Add a lesson
    .flex.flex-col
      - Lesson::TYPES.each do |type|
        = link_to split_on_capitals(type),
                  new_lesson_path(type:),
                  id: "add_#{type.underscore}"
  .w-full.flex.flex-wrap.justify-around.gap-3
    - @lessons.group_by(&:type).each do |type, lessons|
      .flex.flex-col.gap-1
        %h2= split_on_capitals(type).pluralize
        %ul.flex.flex-col.gap-1
          - lessons.each do |l|
            = link_to l.title,
                      lesson_path(l)
