-# locals: (course_lessons:, date:)

:ruby
  iteration_day = date.beginning_of_week
  today = Time.zone.today

- Date::DAYNAMES.each do |day|
  - current_class = today == iteration_day - 1 ? 'bg-secondary text-white rounded py-2 px-3' : ''
  - no_lessons = course_lessons.none? { |cl| cl.day == day.downcase }

  %header{ class: 'flex flex-col items-center justify-center p-2 odd:bg-neutral-dark ' \
                  "rounded-t #{'opacity-50' if no_lessons}" }
    %div{ class: current_class }
      %h2.font-bold= day
      %p.text-sm
        = iteration_day.strftime("%B #{iteration_day.day.ordinalize}")

  - iteration_day += 1
