-# locals: (lesson:)

= form_with model: lesson,
            url: [lesson.course, lesson],
            id: "#{lesson.type.underscore}_form" do |f|
  = render 'shared/form_errors', resource: lesson

  .flex.flex-col.gap-2
    = f.label :title
    = f.text_field :title

  .flex.flex-col.gap-2
    = f.label :summary
    = f.text_area :summary

  .flex.flex-col.gap-2
    = f.label :week
    = f.number_field :week, min: 1, max: 52

  .flex.flex-col.gap-2
    = f.label :day
    = f.select :day, Lesson.days.to_h { |k, _v| [k.capitalize, k] }

  .flex.flex-col.gap-2
    = f.label :level
    = f.select :level, Lesson.levels.to_h { |k, _v| [k.titleize, k] }

  = render "lessons/#{lesson.type.pluralize.underscore}/fields", f:, lesson:

  = f.submit
